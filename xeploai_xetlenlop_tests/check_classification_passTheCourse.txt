*** Settings ***
Documentation     Kiểm thử Module tính điểm trung bình cả năm, xét học lực
...				  dựa vào điểm tổng kết các môn học, hạnh kiểm
...               của học sinh

Resource          resource.txt

*** Test Cases ***
View Result
    [SetUp]		Login To System
	Goto Class Manager
	View Result
	Test All Average
	
	[Teardown]    Close Browser
	
*** Keywords ***
#Test Tính trung bình của tất cả các hàng
Test All Average
	:FOR	${rowNumber}	IN RANGE	3 	9
	\		Log		${rowNumber}
	\		Test One Average	${rowNumber}
	
#Test Tính trung bình của 1 hàng
Test One Average
	[Arguments]		${rowNumber}
	${rowValuePart1}=	Get Mark	${rowNumber}	5	16
	${rowValuePart2}=	Get Mark	${rowNumber}	17	19
	${rowValue}=	Create List
	${rowValue}=	combine_lists	${rowValuePart1}	${rowValuePart2}
	${thisAvg}=		Calculate Average	${rowValue}
	${expectedAvg}=		Get Table Cell		mark-table		${rowNumber}	19
	${expectedAvg}=		Convert To Number	${expectedAvg}
	Log			${thisAvg}
	Should Be Equal		${thisAvg}		${expectedAvg}

#Lấy điểm các môn trong 1 dòng
Get Mark
	[Arguments]		${rowNumber}	${beginColumn}		${endColumn}
	[Return]	${row}
	${row}=	Create List
	:FOR	${columnNumber}		IN RANGE	${beginColumn}		${endColumn}
	\		${value}=	Get Table Cell		mark-table		${rowNumber}	${columnNumber}
	\		Append To List	 ${row}	${value}

#Tính điểm trung bình
Calculate Average
	[Return]	${avg}
	[Arguments]		${list}
	${avg}=		avgs	${list}
		



	